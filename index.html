<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Chasing The Dream of Style Guide Driven Development in Drupal 8</title>

		<meta name="description" content="Session Title">
		<meta name="author" content="Presenter Name">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

<!--
    MidCamp theme:
		<link rel="stylesheet" href="midcamp/midwest.css" id="theme">
-->

    <link rel="stylesheet" href="midcamp/teal-dark.css" id="theme">

<!--
    Other theme variants:

    <link rel="stylesheet" href="midcamp/teal-light.css" id="theme">
    <link rel="stylesheet" href="midcamp/black.css" id="theme">
-->

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

      <div class="footer">
        <div class="branding--logo">
          <span class="logo__image"><img src="midcamp/midcamp-logo.png" alt="MidCamp logo" height="55px" /></span>
          <p class="logo__site-name">#MidCamp</p>
        </div>
        <div class="session--info">
          <p class="session__title">Chasing The Dream of Style Guide Driven Development <span class="seperator">&nbsp;/&nbsp;</span></p>
          <p class="session__presenter">Brian Perry</p>
        </div>
      </div>

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

        <section>
          <h1>Chasing The Dream of Style Guide Driven Development in Drupal 8</h1>
          <h3>MidCamp 2016</h3>
          <h3>#MidCamp</h3>
          <!--Themes:
          <a href="#" onclick="document.getElementById('theme').setAttribute('href','midcamp/black.css'); return false;">Black</a>,
          <a href="#" onclick="document.getElementById('theme').setAttribute('href','midcamp/teal-light.css'); return false;">Teal Light</a>,
          <a href="#" onclick="document.getElementById('theme').setAttribute('href','midcamp/teal-dark.css'); return false;">Teal Dark</a>,
          <a href="#" onclick="document.getElementById('theme').setAttribute('href','midcamp/midwest.css'); return false;">Midwest</a>-->
        </section>

        <section>
          <h1>Brian Perry</h1>
          <h3>@bricomedy / brianperry</h3>
          <h3>Breakthrough Technologies</h3>
          <h3>http://breaktech.com</h3>
        </section>

        <section>
          <section>
            <h1>So what exactly is Style Guide Driven Development anyway?</h1>
          </section>
          <section>
            <h2>Decoupling of front and back end development</h2>
            <aside class="notes">
              * SGDD is an approach to development that de-couples front end and back end development.<br />
              * Look and feel can be developed before functionality actually exists.<br />
              * Style guide components can be applied to newly developed functionality right away.
            </aside>
          </section>
          <section>
            <h2>Theming doesn't have to come last</h2>
            <aside class="notes">
              * I'm sure many have experienced this - your site is built out, and then at the end we try to tack on theming.<br />
            </aside>
          </section>
          <section data-background="images/finish_success.jpg" alt="Runner Triumphantly Crossing Finish Line">
            <h2>Perception</h2>
            <!-- Todo - Re: Center with CSS -->
            <h2>&nbsp;</h2>
            <h2>&nbsp;</h2>
            <h2>&nbsp;</h2>
            <h2>&nbsp;</h2>
            <h2>&nbsp;</h2>
            <h2>&nbsp;</h2>
            <aside class="notes">
              * We think it will look like this - tack on styling at the end, and the finished product will look great.
            </aside>
          </section>
          <section data-background="images/finish_fail.jpg" alt="Runners tripping on hurdles">
            <h2>Reality</h2>
            <!-- Todo - Re: Center with CSS -->
            <h2>&nbsp;</h2>
            <h2>&nbsp;</h2>
            <h2>&nbsp;</h2>
            <h2>&nbsp;</h2>
            <h2>&nbsp;</h2>
            <h2>&nbsp;</h2>
            <aside class="notes">
              * But in reality it is more like this - some things dont get finished, and it is can be ugly and painful.
            </aside>
          </section>
          <section data-background="images/finish_shell.png" alt="Wario about to get hit with blue shell">
            <h2>(Mario Kart Version)</h2>
            <!-- Todo - Re: Center with CSS -->
            <h2>&nbsp;</h2>
            <h2>&nbsp;</h2>
            <h2>&nbsp;</h2>
            <h2>&nbsp;</h2>
            <h2>&nbsp;</h2>
            <h2>&nbsp;</h2>
            <aside class="notes">
              * Or the Mario Kart version - you're just about to cross the finish line, but you get hit with a blue shell.
            </aside>
          </section>
        </section>

        <section>
          <section>
            <h1>The Living Style Guide</h1>
            <aside class="notes">
              * Key component of SGDD is the creation and maintenence of a living style guide.
            </aside>
          </section>
          <section data-background="images/us_style_guide.png" alt="US Web Design Standards Style Guide">
            <aside class="notes">
              * US Web Design Standards Style Guide.<br />
              * Starbucks was another early example - http://www.starbucks.com/static/reference/styleguide/<br />
              * Consider converting this to a video.
            </aside>
          </section>
          <section data-background="images/us_style_guide_search.png" alt="US Web Design Standards Search Bar Component">
            <aside class="notes">
              * Search bar component
            </aside>
          </section>
          <section>
            <h2>A Living Style Guide</h2>
            <ol>
              <li class="fragment">Is modular and re-usable</li>
            </ol>
          </section>
          <section>
            <img src="images/design_systems.png" alt="Atomic Design - design systems of components, not pages" />
            <aside class="notes">
              * Atomic Design is a methodology to construct design systems created by Brad Frost.<br />
              * Design systems of components, not pages.
            </aside>
          </section>
          <section>
            <img src="images/atomic_design.png" alt="Atomic Design Overview" />
            <aside class="notes">
              * Atoms - basic html elements<br />
              * Molecules - small combinations of html elements - search box for example.<br />
              * Organisms - more complex components of molecules - header for example.<br />
              * Templates - a full page or screen made up of components.<br />
              * Page - An instance of a template with content in it.  Don't design individual pages.<br />
              * The methodolgy doesn't matter to me as much as the idea of re-usable modular components.
            </aside>
          </section>
          <section>
            <h2>A Living Style Guide</h2>
            <ol>
              <li>Is modular and re-usable</li>
              <li>Uses real world css and markup</li>
              <li class="fragment">Is always kept up to date</li>
              <li class="fragment">Is testable</li>
            </ol>
            <aside class="notes">
              * The style guide should use the actual css and markup that is in production on your site.<br />
              * As much as possible at least. The CSS should be easy, but in some cases the markup can be difficult.<br />
              * Generate your style guide automatagically - we'll look at a few approaches.<br />
              * Make it part of your workflow - when you update your code, update your documentation.<br />
              * Testable - SGDD sets up a framework that makes it possible to test for visual regressions.
            </aside>
          </section>
          <section>
            <h2>Has this ever happened to you?</h2>
            <img src="images/infomercial.gif" alt="Infomercial Saran Wrap Fail"/>
            <aside class="notes">
              * So many fun options for infomercial fail gifs...
            </aside>
          </section>
          <section>
            <p>One tiny css change causes a regression deep in the outer reaches of your site.</p>
            <p>(And, it goes unnoticed for lord knows how long...)</p>
            <aside class="notes">
              * Maybe it's an honest mistake<br />
              * Maybe someone new to the codebase is working in the theme layer and doesn't have the context you do.
            </aside>
          </section>
          <section>
            <h2>Visual Regression Testing</h2>
            <h3>allows your style guide tell you when you blew it</h3>
            <aside class="notes">
              * We've got all the tools we need for some life saving visual regression testing.
            </aside>
          </section>
          <section>
            <img src="images/visual_regression_diff.png" alt="Visual Regresison Diff for Teaser"/>
            <aside class="notes">
              * This is an example of a screenshot of a screenshot diff after a change in style. We'll walk all the way getting this process up on its feet.<br />
              * Image Source: https://css-tricks.com/visual-regression-testing-with-phantomcss/
            </aside>
          </section>
        </section>

        <section>
          <section>
            <h1>Drupal 7</h1>
          </section>
          <section>
            <h2>Millions of years ago when Drupal 7 was a thing, what tools did we have to help with our style guides?</h2>
          </section>
          <section data-background="images/style_guide_module.png">
            <aside class="notes">
              * I feel like the style guide module gets a bad rap, but it is super useful.
            </aside>
          </section>
          <section data-background-video="videos/style_guide_demo.m4v">
            <aside class="notes">
              * Todo: Edit and compress this video, probably cutting down length a bit.
              * Todo: Update reveal.js to allow for video looping.
            </aside>
          </section>
          <section>
            <h2>Style Guide API</h2>
            <p>hook_styleguide()</p>
            <p>hook_styleguide_alter()</p>
          </section>
          <section>
            <img src="images/dpc_styleguide.png" />
            <aside class="notes">
              * Todo: Resize screenshot.
              * Todo: Maybe come up with better markup examples.
            </aside>
          </section>
          <section>
            <img src="images/dpc_categories.png" />
            <aside class="notes">
              * Todo: Resize screenshot.
            </aside>
          </section>
          <section>
            <h2>hook_styleguide()</h2>
                    <pre><code data-trim>
                      /**
                      * Implements hook_styleguide().
                      */
                      function my_module_styleguide() {
                      $items = array();

                      $items['color_primary'] = array(
                      'title' => t('02-1) Colors, Primary'),
                      'group' => t('1) Approved'),
                      'content' => '<div class="color-block primary-background"></div>'
                      );

                      $items['button_primary'] = array(
                      'title' => t('01-1) Buttons, Primary'),
                      'group' => t('1) Approved'),
                      'content' => markup_button_link('btn-primary', 'Donate Now')
                      );

                      return $items;
                      }
                    </code></pre>
            <aside class="notes">
              * Todo: See if I can re-format so I can see all markup on one screen.
            </aside>
          </section>
          <section>
            <h2>Custom Helpers for Markup</h2>
                    <pre><code data-trim>
                      /**
                      *  Link Button
                      *
                      * @param $classes
                      *   STRING additional classes to be applied to button link
                      * @param $text
                      *   STRING link text
                      */
                      function markup_button_link($classes, $text) {
                      $output = '<a class="btn ' . $classes . '" href="#" role="button">' . $text . '</a>';

                      return $output;
                      }
                    </code></pre>
            <aside class="notes">
              * Todo: See if I can re-format so I can see all markup on one screen.
            </aside>
          </section>
          <section>
            <h2>hook_styleguide_alter()</h2>
                    <pre><code data-trim>
                      /**
                      * Implements hook_styleguide_alter().
                      */
                      function my_module_styleguide_alter(&$items) {
                      // Promote default styleguide items to review sections
                      $items['headings']['title'] = t('02-4) Headings');
                      $items['headings']['group'] = t('1) Approved');
                      $items['text']['title'] = t('02-5) Text Block');
                      $items['text']['group'] = t('2) In Progress');
                      }
                    </code></pre>
            <aside class="notes">
              * Todo: Fix code highlighting here.
            </aside>
          </section>
          <section>
            <h2>Style Guide File Snippets Module</h2>
            <p>Extend style guide with snippets of markup from your codebase.</p>
            <ol>
              <li>.html format</li>
              <li>.inc format</li>
            </ol>
          </section>
          <section>
            <h2>.html Format</h2>
            <p>Path: SNIPPET_DIRECTORY/Navigation/Pill Navigation.html</p>
                    <pre><code data-trim>
                      <ul class="nav nav-pills" role="tablist">
                        <li role="presentation" class="active"><a href="#">Home <span class="badge">42</span></a></li>
                        <li role="presentation"><a href="#">Profile</a></li>
                        <li role="presentation"><a href="#">Messages <span class="badge">3</span></a></li>
                      </ul>
                    </code></pre>
            <img src="images/html_snippet.png" />
            <aside class="notes">
              * Try to extend the width of the code snippet.
            </aside>
          </section>
          <section>
            <h2>.inc Format</h2>
            <p>Returns an array in hook_styleguide() format</p>
                    <pre><code data-trim>
                      <\?php
                      return array(
                      'title' => t('Pill Navigation'),
                      'group' => t('Navigation'),
                      'content' => '<ul class="nav nav-pills" role="tablist">
                      <li role="presentation" class="active"><a href="#">Home <span class="badge">42</span></a></li>
                      <li role="presentation"><a href="#">Profile</a></li>
                      <li role="presentation"><a href="#">Messages <span class="badge">3</span></a></li>
                    </ul>'
                      );
                    </code></pre>
            <aside class="notes">
              * Find a way to escape the php tag so it formats correctly.
            </aside>
          </section>
        </section>

        <section>
          <section>
            <h1>Drupal 8</h1>
            <aside class="notes">
              Better components:
              * SMACCS
              * Everything in templates - Twig and twig tricks like blocks and extends.
              * No style guide!
            </aside>
          </section>
          <section>
            <h2>Drupal 8 wants you to build better themes</h2>
            <ul>
              <li>Twig templating system.</li>
              <li>SMACSS-style CSS Coding Standards.</li>
            </ul>
            <aside class="notes">
              * Maybe add an example of adding classes.
            </aside>
          </section>
          <section>
            <h2>Twig</h2>
            <ul>
              <li>Greater seperation between logic and display</li>
              <ul>
                <li>More markup in templates, less in theme and pre-process functions.</li>
              </ul>
              <li>Easier to create cleaner and more logical markup</li>
              <ul>
                <li>Classy and Stable base themes.</li>
              </ul>
            </ul>
            <aside class="notes">
              * Feel like I probably need more varied examples here.
            </aside>
          </section>
          <section>
            <h2>Twig Extends</h2>
            <p>field.html.twig</p>
            <img src="images/field_twig.png" />
          </section>
          <section>
            <h2>Twig Blocks</h2>
            <p>Custom field.html.twig</p>
            <img src="images/field_twig_block.png" />
          </section>
          <section>
            <h2>Twig Extends</h2>
            <p>field--field-hero-header.html.twig</p>
            <img src="images/field_extends.png" />
          </section>
          <section>
            <h2>SMACSS</h2>
            <ol>
              <li>Base — CSS reset/normalize plus HTML element styling.</li>
              <li>Layout — macro arrangement of a web page, including any grid systems.</li>
              <li>Component — discrete, reusable UI elements.</li>
              <li>State — styles that deal with client-side changes to components.</li>
              <li>Theme — purely visual styling (“look-and-feel”) for a component.</li>
            </ol>
            <aside class="notes">
              * Scalable and Modular Architecture for CSS
              * More of a style guide than a framework.
              * SMACCS actually uses module rather than component
              * Maybe have some class naming examples here?
            </aside>
          </section>
          <section>
            <h2>No Style Guide Module (Yet)</h2>
            <p>So what do we do?</p>
          </section>
          <section>
            <h2>Style Guide Generators to the Rescue</h2>
            <p>Many options</p>
            <ul>
              <li>Pattern Lab</li>
              <li>Stylex</li>
              <li>KSS</li>
            </ul>
            <aside class="notes">
              * Stylex uses Twig, which is nice.
            </aside>
          </section>
          <section>
            <h2>KSS</h2>
            <ul>
              <li>Human readable documentation syntax</li>
              <li>Any flavor of CSS</li>
              <li>Node JS implementation</li>
              <li>Grunt integration</li>
            </ul>
          </section>
          <section>
            <h2>Install</h2>
            <p>npm install kss --save-dev</p>
            <p>npm install grunt-kss --save-dev</p>
          </section>
          <section>
            <h2>Example</h2>
            <img src="images/solutions_screenshot.png" />
          </section>
          <section>
            <h2>KSS Syntax</h2>
                    <pre><code data-trim>
                      // Solution Teaser
                      //
                      // A teaser for solutions taxonomy as displayed on the homepage
                      //
                      // Markup: kss_markup/solution_teaser.html
                      //
                      // Style Guide: Solutions.Teaser
                      .view-solutions .views-row {
                      .views-field-field-category-icon .col-xs-3 {
                      padding: 3%;
                      border-radius: 50%;
                      background-color: $gray_light;
                      img {
                      @extend .img-responsive;
                      }
                      }
                      }
                    </code></pre>
            <aside class="notes">
              * Maybe add a view of the markup?
            </aside>
          </section>
          <section>
            <h2>Build Style Guide</h2>
            <p>grunt kss</p>
            <p>or:</p>
            <p>./node_modules/.bin/kss-node --source sass --destination styleguide --css css/style.css</p>
            <aside class="notes">
              * Some sort of view into the grunt config would probably be good here...
            </aside>
          </section>
          <section>
            <img src="images/styleguide_output.png" />
          </section>
        </section>

        <section>
          <section>
            <h1>Testing Your Style Guide and Theme</h1>
            <aside class="notes">
              * Behat
              * Wraith
              * Phantom
            </aside>
          </section>
          <section>
            <h2>Behat</h2>
            <p>Behavior Driven Development Framework</p>
                    <pre><code data-trim>
                      @javascript
                      Scenario: Footer style matches style guide
                      Given I am an anonymous user
                      And I am on "assessments/practice-assessments"
                      When I am browsing using a "phone"
                      Then "body" should have a "background-color" css value of "rgb(112, 84, 125)"
                      And "#page" should have a "background-color" css value of "rgb(255, 255, 255)"
                      And "footer" should have a "padding-top" css value of "50px"
                      And "footer" should have a "padding-bottom" css value of "30px"
                    </code></pre>
          </section>
          <section>
            <h2>Wraith</h2>
            <p>Screenshot Comparison Tool</p>
            <img src="images/wraith_single.png" />
          </section>
          <section>
            <img src="images/wraith_diff.png" />
          </section>
          <section>
            <h2>Phantom CSS</h2>
            <p>CSS Regression Testing</p>
            <ul>
              <li>PhantomJS/SlimerJS - Headless Browser</li>
              <li>CasperJS - Navigation and Scripting</li>
              <li>ResembleJS - Screenshot Comparison</li>
            </ul>
            <p>Strengths: interactivity, easier to target components.</p>
          </section>
          <section>
            <h2>Target By Selector</h2>
            <img src="images/phantom_failure.png" />
                    <pre><code data-trim>
                      casper.thenOpen(phantom.rootUrl)
                      .then(function() {
                      this.evaluate(function() {
                      // Evaluate any pre-test js here
                      });
                      })
                      .then(function() {
                      phantomcss.screenshot('.view-solutions .views-row:first-child', 'Solution Teaser');
                      });
                    </code></pre>
          </section>
          <section>
            <h2>Install</h2>
            <p>npm install phantomcss --save-dev</p>
            <p>or:</p>
            <p>npm install @micahgodbolt/grunt-phantomcss --save-dev</p>
          </section>
          <section>
            <h1>Demo</h1>
          </section>
        </section>

        <section>
          <section>
            <h1>Chasing the dream?</h1>
            <aside class="notes">
              * I'm not even doing all this stuff myself
              * Big desire is to be using twig in this process.
              * And dream is to be able to get the 'real' drupal markup with dummy content.
            </aside>
          </section>
          <section>
            <ul>
              <li>Stop cutting corners in workflow.</li>
              <li>How can we get closer to real up to date Drupal markup in Style Guide?</li>
            </ul>
          </section>
        </section>

        <section>
          <h1>Questions?</h1>
        </section>

        <section>
          <h1>MidCamp Sprint</h1>
          <h2>Sunday, March 20 at 10 am</h2>
          <h3><a href="https://2016.midcamp.org/venue-in-depth">UIC COMRB 909 S. Wolcott St</a></h3>
          <p>(across the street from the venue)</p>
          <p><em>Contributors of all skill sets and levels are welcome and encouraged to join us!</em></p>
        </section>

        <section>
           <h1>Feedback</h1>
           <h2><a href="https://joind.in/talk/eae91">joind.in/talk/eae91</a></h2>

           <p>
             Replace the URL with the short URL to your talk on joind.in.
             Go to <a href="https://joind.in/event/midcamp-2016---midwest-drupal-camp-">
             MidCamp 2016 on joind.in</a>
             and claim your talk (you will have to register and log in).
           </p>
         </section>


			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'none', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
